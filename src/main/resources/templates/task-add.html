<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org/" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="utf-8">
    <title>TF|Создание проблемы</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="/css/validation.css" rel="stylesheet">
    <link href="/css/formData.css" rel="stylesheet">
    <link href="/css/task.css" rel="stylesheet">
    <link href="/css/closeCustom.css" rel="stylesheet">
    <script src=/js/validation.js></script>
    <script src=/js/jointFunctions.js></script>
    <script src="https://api-maps.yandex.ru/2.1/?apikey=5694d7f9-f8dc-4349-9d30-9dc5a908a417&lang=ru_RU"
            type="text/javascript">
    </script>
    <script src="/js/mapForTaskAdding.js"></script>
</head>
<body onload="loadTask()">
<header th:insert="blocks/header :: header"></header>
<div id="div-main-block" class="external-cont">
    <div class="form-data" style="width: 800px; text-align: center; font-size: 20px">
        <h3>
            Создание проблемы
        </h3>
        <form id="form-task" method="post" th:object="${taskForm}">
            <input type="text" class="form-control mb-3" placeholder="Название" name="taskName"
                   oninput="checkEmpty(this)">
            <textarea class="form-control mb-3" placeholder="Описание" name="taskDescription"
                      style="height: 200px;" oninput="checkEmpty(this)"></textarea>
            <div class="input-group mb-3">
                <input type="text" class="form-control required" id="location" placeholder="Адрес проблемы" name="taskLocation" oninput="checkEmpty(this)">
                <div class="input-group-append">
                    <button type="button" class="btn btn-primary" id="check-address">Проверить</button>
                </div>
            </div>
            <div id="map" style="width: 735px; height: 400px"></div>
            <div class="div-comment-allow mb-2">
                <label>Возможность комментирования:</label>
                <label>
                    <input type="radio" id="on" name="commentAllow" value="true">
                    вкл |
                </label>
                <label>
                    <input type="radio" id="off" name="commentAllow" value="false">
                    выкл
                </label>
            </div>
            <div class="div-input-images mb-4" style="display: table; width: 100%;">
                <span class="pr-4" style="display: table-cell; vertical-align: middle;
                width: 165px;">Фотографии (не более 3):</span>
                <div class="div-images" style="display: table-cell;text-align: start;">
                    <input type="file" id="input-load-img" accept="image/jpeg,image/jpg,image/png,image/bmp"
                           style="display: none;" multiple onchange="processingImages(this)">
                    <img class="task-preview-img mb-2" src="/img/add-photo.jpg" title="Добавить фотографии"
                         onclick="loadImages();">
                </div>
            </div>

            <button type="submit" class="btn btn-primary">
                Создать
            </button>
        </form>
    </div>
</div>
<script src=/js/task.js></script>
<footer th:insert="blocks/footer :: footer"></footer>
</body>
</html>
